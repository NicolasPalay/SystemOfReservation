{% extends 'baseAdmin.html.twig' %}

{% block title %}Admin Book{% endblock %}
{%  block CssHeader %}{{ parent() }} ca-form-header{%  endblock %}
{% block headerH1 %}<h1 class="h3 mb-3 ca-h1-form pt-3">Ajouter un article</h1>{% endblock %}
 {% block headerImg %}<div id="image-container">
    <!-- L'emplacement pour les images prévisualisées -->
 </div>{% endblock %}
  {% block headerPara %}
   {{ include('admin/book/_form.html.twig', {'button_label': 'Valider'}) }}

{% endblock %}
{% block body %}
    <section class="d-flex flex-column py-3 w-75 flex-start mx-auto">
        {% for book in books %}
            <article>

                <div class="ca-box-book">
                    <div class="d-flex justify-content-between py-3 w-75 flex-start mx-auto">
                        <a href="{{ path('admin_book_edit', {id: book.id}) }}" class="h4">{{ book.titleBook }}</a>
                        <a href="" class="ca-href-delete">delete</a>
                        <div class="modaleDelete" data-book-id="{{ book.id }}">

                                <span class="ca-close">Fermer</span>
                                <a href="#" class="delete-book-link">supprimer</a>

                            <a href="{{ path('admin_book_delete',{ id: book.id }) }}">delete</a>
                        </div>
                    </div>

                    <div class="d-flex">
                        {% for image in book.pictures %}
                            <div class="ca-box-book">
                                <div class="c-dflex-columns mb-4">
                                    <img class="ca-mini-img-admin" src="{{ asset('assets/uploads/pictures/mini/300x300-' ~ image.name) }}" alt="">
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endfor %}
    </section>

{% endblock %}
{% block javascripts %}
    <script>
const myModal = document.getElementById('myModal')
const myInput = document.getElementById('myInput')

myModal.addEventListener('shown.bs.modal', () => {
myInput.focus()
})
    </script>{% endblock %}